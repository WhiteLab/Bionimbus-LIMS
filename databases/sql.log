timestamp: 2013-01-10T16:31:05.199290
CREATE TABLE auth_user(
    id SERIAL PRIMARY KEY,
    username VARCHAR(512),
    first_name VARCHAR(512),
    last_name VARCHAR(512),
    email VARCHAR(512),
    password VARCHAR(512),
    filesystem_password VARCHAR(512),
    is_admin CHAR(1),
    created_on TIMESTAMP,
    modified_on TIMESTAMP,
    registration_key VARCHAR(512),
    reset_password_key VARCHAR(512),
    registration_id VARCHAR(512)
);
success!
timestamp: 2013-01-10T16:31:05.232652
CREATE TABLE auth_group(
    id SERIAL PRIMARY KEY,
    role VARCHAR(512),
    description TEXT
);
success!
timestamp: 2013-01-10T16:31:05.244472
CREATE TABLE auth_membership(
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES auth_user(id) ON DELETE CASCADE,
    group_id INTEGER REFERENCES auth_group(id) ON DELETE CASCADE
);
success!
timestamp: 2013-01-10T16:31:05.255309
CREATE TABLE auth_permission(
    id SERIAL PRIMARY KEY,
    group_id INTEGER REFERENCES auth_group(id) ON DELETE CASCADE,
    name VARCHAR(512),
    table_name VARCHAR(512),
    record_id INTEGER
);
success!
timestamp: 2013-01-10T16:31:05.264777
CREATE TABLE auth_event(
    id SERIAL PRIMARY KEY,
    time_stamp TIMESTAMP,
    client_ip VARCHAR(512),
    user_id INTEGER REFERENCES auth_user(id) ON DELETE CASCADE,
    origin VARCHAR(512),
    description TEXT
);
success!
timestamp: 2013-01-10T16:31:05.277261
CREATE TABLE auth_cas(
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES auth_user(id) ON DELETE CASCADE,
    created_on TIMESTAMP,
    service VARCHAR(512),
    ticket VARCHAR(512),
    renew CHAR(1)
);
success!
timestamp: 2013-01-10T16:31:05.289718
CREATE TABLE t_cloud_push(
    id SERIAL PRIMARY KEY,
    f_from VARCHAR(512),
    f_to VARCHAR(512),
    f_synced VARCHAR(512),
    f_performed_on TIMESTAMP,
    is_active CHAR(1),
    created_on TIMESTAMP,
    created_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE,
    modified_on TIMESTAMP,
    modified_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE
);
success!
timestamp: 2013-01-10T16:31:05.309271
CREATE TABLE t_platform(
    id SERIAL PRIMARY KEY,
    f_name VARCHAR(512),
    is_active CHAR(1),
    created_on TIMESTAMP,
    created_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE,
    modified_on TIMESTAMP,
    modified_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE
);
success!
timestamp: 2013-01-10T16:31:05.333706
CREATE TABLE t_users(
    id SERIAL PRIMARY KEY,
    f_name VARCHAR(512),
    f_username VARCHAR(512),
    f_address VARCHAR(512),
    f_email VARCHAR(512),
    f_phone VARCHAR(512),
    f_password VARCHAR(512),
    f_lastlogin TIMESTAMP,
    f_superuser CHAR(1),
    is_active CHAR(1),
    created_on TIMESTAMP,
    created_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE,
    modified_on TIMESTAMP,
    modified_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE
);
success!
timestamp: 2013-01-10T16:31:05.348432
CREATE TABLE t_users_archive(
    id SERIAL PRIMARY KEY,
    f_name VARCHAR(512),
    f_username VARCHAR(512),
    f_address VARCHAR(512),
    f_email VARCHAR(512),
    f_phone VARCHAR(512),
    f_password VARCHAR(512),
    f_lastlogin TIMESTAMP,
    f_superuser CHAR(1),
    is_active CHAR(1),
    created_on TIMESTAMP,
    created_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE,
    modified_on TIMESTAMP,
    modified_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE,
    current_record INTEGER REFERENCES t_users(id) ON DELETE CASCADE
);
success!
timestamp: 2013-01-10T16:31:05.367379
CREATE TABLE t_mail_list(
    id SERIAL PRIMARY KEY,
    f_user INTEGER REFERENCES auth_user(id) ON DELETE CASCADE,
    f_list VARCHAR(512),
    is_active CHAR(1),
    created_on TIMESTAMP,
    created_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE,
    modified_on TIMESTAMP,
    modified_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE
);
success!
timestamp: 2013-01-10T16:31:05.379286
CREATE TABLE t_organism(
    id SERIAL PRIMARY KEY,
    f_name VARCHAR(512),
    f_common_name VARCHAR(512),
    is_active CHAR(1),
    created_on TIMESTAMP,
    created_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE,
    modified_on TIMESTAMP,
    modified_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE
);
success!
timestamp: 2013-01-10T16:31:05.390932
CREATE TABLE t_organism_archive(
    id SERIAL PRIMARY KEY,
    f_name VARCHAR(512),
    f_common_name VARCHAR(512),
    is_active CHAR(1),
    created_on TIMESTAMP,
    created_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE,
    modified_on TIMESTAMP,
    modified_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE,
    current_record INTEGER REFERENCES t_organism(id) ON DELETE CASCADE
);
success!
timestamp: 2013-01-10T16:31:05.413515
CREATE TABLE t_project(
    id SERIAL PRIMARY KEY,
    f_name VARCHAR(512),
    f_description VARCHAR(512),
    f_public CHAR(1),
    f_organism INTEGER REFERENCES t_organism(id) ON DELETE CASCADE,
    f_platform INTEGER REFERENCES t_platform(id) ON DELETE CASCADE,
    f_pi INTEGER REFERENCES auth_user(id) ON DELETE CASCADE,
    f_path VARCHAR(512),
    is_active CHAR(1),
    created_on TIMESTAMP,
    created_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE,
    modified_on TIMESTAMP,
    modified_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE
);
success!
timestamp: 2013-01-10T16:31:05.427467
CREATE TABLE t_project_archive(
    id SERIAL PRIMARY KEY,
    f_name VARCHAR(512),
    f_description VARCHAR(512),
    f_public CHAR(1),
    f_organism INTEGER REFERENCES t_organism(id) ON DELETE CASCADE,
    f_platform INTEGER REFERENCES t_platform(id) ON DELETE CASCADE,
    f_pi INTEGER REFERENCES auth_user(id) ON DELETE CASCADE,
    f_path VARCHAR(512),
    is_active CHAR(1),
    created_on TIMESTAMP,
    created_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE,
    modified_on TIMESTAMP,
    modified_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE,
    current_record INTEGER REFERENCES t_project(id) ON DELETE CASCADE
);
success!
timestamp: 2013-01-10T16:31:05.441671
CREATE TABLE t_file(
    id SERIAL PRIMARY KEY,
    f_path VARCHAR(512),
    f_filename VARCHAR(512),
    f_newpath VARCHAR(512),
    f_bionimbus_id VARCHAR(512),
    f_size NUMERIC(20,0),
    is_active CHAR(1),
    created_on TIMESTAMP,
    created_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE,
    modified_on TIMESTAMP,
    modified_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE
);
success!
timestamp: 2013-01-10T16:31:05.458536
CREATE TABLE t_file_archive(
    id SERIAL PRIMARY KEY,
    f_path VARCHAR(512),
    f_filename VARCHAR(512),
    f_newpath VARCHAR(512),
    f_bionimbus_id VARCHAR(512),
    f_size NUMERIC(20,0),
    is_active CHAR(1),
    created_on TIMESTAMP,
    created_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE,
    modified_on TIMESTAMP,
    modified_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE,
    current_record INTEGER REFERENCES t_file(id) ON DELETE CASCADE
);
success!
timestamp: 2013-01-10T16:31:05.473421
CREATE TABLE t_user_project(
    id SERIAL PRIMARY KEY,
    f_project_id INTEGER REFERENCES t_project(id) ON DELETE CASCADE,
    f_user_id INTEGER REFERENCES auth_user(id) ON DELETE CASCADE,
    f_admin CHAR(1),
    is_active CHAR(1),
    created_on TIMESTAMP,
    created_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE,
    modified_on TIMESTAMP,
    modified_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE
);
success!
timestamp: 2013-01-10T16:31:05.492946
CREATE TABLE t_experiment_unit(
    id SERIAL PRIMARY KEY,
    f_name VARCHAR(512),
    f_bionimbus_id VARCHAR(512),
    f_project INTEGER REFERENCES t_project(id) ON DELETE CASCADE,
    f_sample VARCHAR(512),
    f_agent VARCHAR(512),
    f_barcode VARCHAR(512),
    f_protein VARCHAR(512),
    f_is_public CHAR(1),
    f_import_id INTEGER,
    is_active CHAR(1),
    created_on TIMESTAMP,
    created_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE,
    modified_on TIMESTAMP,
    modified_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE
);
success!
timestamp: 2013-01-10T16:31:05.509038
CREATE TABLE t_experiment_unit_archive(
    id SERIAL PRIMARY KEY,
    f_name VARCHAR(512),
    current_record INTEGER REFERENCES t_experiment_unit(id) ON DELETE CASCADE,
    f_bionimbus_id VARCHAR(512),
    f_project INTEGER REFERENCES t_project(id) ON DELETE CASCADE,
    f_sample VARCHAR(512),
    f_agent VARCHAR(512),
    f_barcode VARCHAR(512),
    f_protein VARCHAR(512),
    f_is_public CHAR(1)
);
success!
timestamp: 2013-01-10T16:31:05.522358
CREATE TABLE t_barcodes(
    id SERIAL PRIMARY KEY,
    f_name VARCHAR(512) UNIQUE,
    f_sequence VARCHAR(512) UNIQUE
);
success!
timestamp: 2013-01-10T16:31:05.536323
CREATE TABLE t_facility(
    id SERIAL PRIMARY KEY,
    f_name VARCHAR(512) UNIQUE,
    f_contact TEXT UNIQUE
);
success!
timestamp: 2013-01-10T16:31:05.554833
CREATE TABLE t_keygen_spreadsheets(
    id SERIAL PRIMARY KEY,
    f_project INTEGER REFERENCES t_project(id) ON DELETE CASCADE,
    f_platform INTEGER REFERENCES t_platform(id) ON DELETE CASCADE,
    f_library_prep_type VARCHAR(512),
    f_facility INTEGER REFERENCES t_facility(id) ON DELETE CASCADE,
    f_lanes_per_sample INTEGER,
    f_cycles_per_lane VARCHAR(512),
    f_reference_library_to_map_output VARCHAR(512),
    f_comments TEXT,
    file VARCHAR(512)
);
success!
timestamp: 2013-01-10T16:31:05.569959
CREATE TABLE t_keys(
    id SERIAL PRIMARY KEY,
    f_year INTEGER,
    f_index INTEGER
);
success!
timestamp: 2013-01-10T16:31:05.578380
CREATE TABLE t_key_metadata(
    id SERIAL PRIMARY KEY,
    f_key INTEGER REFERENCES t_keys(id) ON DELETE CASCADE,
    f_metadata_key VARCHAR(512),
    f_value VARCHAR(512)
);
success!
timestamp: 2013-01-10T16:33:15.397081
ALTER TABLE t_facility ADD modified_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE;
timestamp: 2013-01-10T16:33:15.400624
ALTER TABLE t_facility ADD f_name__tmp VARCHAR(512);
UPDATE t_facility SET f_name__tmp=f_name;
ALTER TABLE t_facility DROP COLUMN f_name;
ALTER TABLE t_facility ADD f_name VARCHAR(512);
UPDATE t_facility SET f_name=f_name__tmp;
ALTER TABLE t_facility DROP COLUMN f_name__tmp;
timestamp: 2013-01-10T16:33:15.405451
ALTER TABLE t_facility ADD is_active CHAR(1);
timestamp: 2013-01-10T16:33:15.406197
ALTER TABLE t_facility ADD f_contact__tmp VARCHAR(512);
UPDATE t_facility SET f_contact__tmp=f_contact;
ALTER TABLE t_facility DROP COLUMN f_contact;
ALTER TABLE t_facility ADD f_contact VARCHAR(512);
UPDATE t_facility SET f_contact=f_contact__tmp;
ALTER TABLE t_facility DROP COLUMN f_contact__tmp;
timestamp: 2013-01-10T16:33:15.410499
ALTER TABLE t_facility ADD created_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE;
timestamp: 2013-01-10T16:33:15.412162
ALTER TABLE t_facility ADD created_on TIMESTAMP;
timestamp: 2013-01-10T16:33:15.412844
ALTER TABLE t_facility ADD modified_on TIMESTAMP;
timestamp: 2013-01-10T16:33:15.425729
ALTER TABLE t_keygen_spreadsheets ADD t_facility INTEGER REFERENCES t_facility(id) ON DELETE CASCADE;
timestamp: 2013-01-10T16:33:15.433201
ALTER TABLE t_keygen_spreadsheets DROP COLUMN f_facility;
timestamp: 2013-01-15T16:35:34.867124
ALTER TABLE t_experiment_unit ADD f_spreadsheet INTEGER REFERENCES t_keygen_spreadsheets(id) ON DELETE CASCADE;
timestamp: 2013-01-15T16:35:34.890121
ALTER TABLE t_facility ADD f_contact__tmp TEXT;
UPDATE t_facility SET f_contact__tmp=f_contact;
ALTER TABLE t_facility DROP COLUMN f_contact;
ALTER TABLE t_facility ADD f_contact TEXT;
UPDATE t_facility SET f_contact=f_contact__tmp;
ALTER TABLE t_facility DROP COLUMN f_contact__tmp;
timestamp: 2013-01-31T16:15:51.312394
ALTER TABLE t_experiment_unit ADD f_spreadsheet__tmp INTEGER;
UPDATE t_experiment_unit SET f_spreadsheet__tmp=f_spreadsheet;
ALTER TABLE t_experiment_unit DROP COLUMN f_spreadsheet;
ALTER TABLE t_experiment_unit ADD f_spreadsheet INTEGER;
UPDATE t_experiment_unit SET f_spreadsheet=f_spreadsheet__tmp;
ALTER TABLE t_experiment_unit DROP COLUMN f_spreadsheet__tmp;
timestamp: 2013-02-22T15:37:59.085155
CREATE TABLE t_cloud(
    id SERIAL PRIMARY KEY,
    f_name VARCHAR(512),
    is_active CHAR(1),
    created_on TIMESTAMP,
    created_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE,
    modified_on TIMESTAMP,
    modified_by INTEGER REFERENCES auth_user(id) ON DELETE CASCADE
);
success!
timestamp: 2013-02-22T15:37:59.420146
ALTER TABLE t_project ADD f_cloud INTEGER REFERENCES t_cloud(id) ON DELETE CASCADE;
timestamp: 2013-02-22T15:37:59.445749
ALTER TABLE t_project_archive ADD f_cloud INTEGER REFERENCES t_cloud(id) ON DELETE CASCADE;
timestamp: 2013-03-13T15:45:11.166038
ALTER TABLE t_file ADD f_size__tmp INTEGER;
UPDATE t_file SET f_size__tmp=f_size;
timestamp: 2013-03-13T15:48:25.661727
ALTER TABLE t_file ADD f_size__tmp VARCHAR(512);
UPDATE t_file SET f_size__tmp=f_size;
ALTER TABLE t_file DROP COLUMN f_size;
ALTER TABLE t_file ADD f_size VARCHAR(512);
UPDATE t_file SET f_size=f_size__tmp;
ALTER TABLE t_file DROP COLUMN f_size__tmp;
timestamp: 2013-03-13T15:48:26.516206
ALTER TABLE t_file_archive ADD f_size__tmp VARCHAR(512);
UPDATE t_file_archive SET f_size__tmp=f_size;
ALTER TABLE t_file_archive DROP COLUMN f_size;
ALTER TABLE t_file_archive ADD f_size VARCHAR(512);
UPDATE t_file_archive SET f_size=f_size__tmp;
ALTER TABLE t_file_archive DROP COLUMN f_size__tmp;
timestamp: 2013-03-13T15:48:51.863103
ALTER TABLE t_file ADD f_size__tmp BIGINT;
UPDATE t_file SET f_size__tmp=f_size;
timestamp: 2013-03-13T15:52:12.592945
ALTER TABLE t_file ADD f_reads BIGINT;
timestamp: 2013-03-13T15:52:12.617856
ALTER TABLE t_file_archive ADD f_reads BIGINT;
timestamp: 2013-03-15T12:46:31.448837
ALTER TABLE t_keygen_spreadsheets ADD f_organism INTEGER REFERENCES t_organism (id) ON DELETE CASCADE;
timestamp: 2013-03-15T12:59:01.676812
ALTER TABLE t_experiment_unit ADD f_organism INTEGER REFERENCES t_organism (id) ON DELETE CASCADE;
timestamp: 2013-03-15T18:26:51.079894
ALTER TABLE t_experiment_unit ADD f_treatment VARCHAR(512);
timestamp: 2013-03-27T16:00:02.842057
ALTER TABLE t_experiment_unit DROP COLUMN f_treatment;
timestamp: 2013-03-27T16:08:52.057520
ALTER TABLE t_project DROP COLUMN f_path;
timestamp: 2013-03-27T16:08:52.088368
ALTER TABLE t_project_archive DROP COLUMN f_path;
timestamp: 2013-03-27T16:08:52.092590
CREATE TABLE t_subproject(
    id SERIAL PRIMARY KEY,
    f_name VARCHAR(512),
    f_parent INTEGER REFERENCES t_project (id) ON DELETE CASCADE,
    is_active CHAR(1),
    created_on TIMESTAMP,
    created_by INTEGER REFERENCES auth_user (id) ON DELETE CASCADE,
    modified_on TIMESTAMP,
    modified_by INTEGER REFERENCES auth_user (id) ON DELETE CASCADE
);
success!
timestamp: 2013-03-27T16:08:52.191519
ALTER TABLE t_experiment_unit ADD f_treatment VARCHAR(512);
timestamp: 2013-03-27T16:08:52.195971
ALTER TABLE t_experiment_unit ADD f_subproject INTEGER REFERENCES t_subproject (id) ON DELETE CASCADE;
timestamp: 2013-03-27T16:08:52.208743
ALTER TABLE t_keygen_spreadsheets ADD f_proj_subproj VARCHAR(512);
timestamp: 2013-03-27T16:08:52.212267
ALTER TABLE t_keygen_spreadsheets DROP COLUMN f_project;
timestamp: 2013-03-28T15:48:47.196751
CREATE TABLE t_stage(
    id SERIAL PRIMARY KEY,
    f_name VARCHAR(512),
    is_active CHAR(1),
    created_on TIMESTAMP,
    created_by INTEGER REFERENCES auth_user (id) ON DELETE CASCADE,
    modified_on TIMESTAMP,
    modified_by INTEGER REFERENCES auth_user (id) ON DELETE CASCADE
);
success!
timestamp: 2013-03-28T15:49:33.317754
ALTER TABLE t_keygen_spreadsheets ADD f_stage INTEGER REFERENCES t_stage (id) ON DELETE CASCADE;
timestamp: 2013-03-28T16:24:18.596709
ALTER TABLE t_experiment_unit ADD f_stage INTEGER REFERENCES t_stage (id) ON DELETE CASCADE;
timestamp: 2013-04-02T18:08:48.542055
CREATE TABLE t_library_type(
    id SERIAL PRIMARY KEY,
    f_name VARCHAR(512),
    f_description TEXT,
    is_active CHAR(1),
    created_on TIMESTAMP,
    created_by INTEGER REFERENCES auth_user (id) ON DELETE CASCADE,
    modified_on TIMESTAMP,
    modified_by INTEGER REFERENCES auth_user (id) ON DELETE CASCADE
);
success!
